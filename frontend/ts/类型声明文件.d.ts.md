# ç±»å‹å£°æ˜æ–‡ä»¶.d.ts

## .d.tsæ–‡ä»¶çš„ä½œç”¨

>ç±»å‹å®šä¹‰æ–‡ä»¶(*.d.ts)ã€‚å‘å¸ƒåˆ° npm ä¸­ï¼Œé…åˆç¼–è¾‘å™¨(æˆ–æ’ä»¶)ï¼Œå°±èƒ½å¤Ÿæ£€æµ‹åˆ°`JS` åº“ä¸­çš„é™æ€ç±»å‹ã€‚ç±»å‹å®šä¹‰æ–‡ä»¶çš„ä»¥ .d.ts ç»“å°¾ï¼Œé‡Œé¢ä¸»è¦ç”¨æ¥å®šä¹‰ç±»å‹ã€‚
é€šå¸¸æ‰€æœ‰çš„å£°æ˜è¯­å¥éƒ½ä¼šå†™åœ¨ä¸€ä¸ªå£°æ˜æ–‡ä»¶é‡Œé¢ï¼Œè¿™ä¸ªæ–‡ä»¶åç¼€åæ˜¯.d.ts.

é€šå¸¸.d.tsæ–‡ä»¶æ˜¯ç»™å·²ç»å­˜åœ¨çš„jsæ–‡ä»¶å£°æ˜ç±»å‹,æ¯”å¦‚`jQuery.js`å°±å¯ä»¥å£°æ˜ä¸€ä¸ª`jQuery.d.ts`æ–‡ä»¶è®©tså’Œvscodeç”¨æ¥åˆ¤æ–­ç±»å‹,éœ€è¦åœ¨`tsconfig.json`åŒ…å«è¿™ä¸ªå£°æ˜æ–‡ä»¶.

``` json
{
    // ....
    "include": [
        "xx.d.ts",
    ],
}
```

## declareå…³é”®å­—çš„ä½œç”¨

declareå…³é”®å­—å¤§å¤šç”¨äº.d.tsæ–‡ä»¶ä¸­ç”¨æ¥å£°æ˜å˜é‡ç±»å‹ã€‚
declareå¯ä»¥ç”¨æ¥å£°æ˜ä¸€ä¸ªå…¨å±€çš„ç±»å‹ ï¼Œç”¨äºç±»å‹æ£€æµ‹ä½¿ç”¨ã€‚
ä½ å¯ä»¥é€šè¿‡ declare å…³é”®å­—æ¥å‘Šè¯‰ TypeScriptï¼Œä½ æ­£åœ¨è¯•å›¾è¡¨è¿°ä¸€ä¸ªå…¶ä»–åœ°æ–¹å·²ç»å­˜åœ¨çš„ä»£ç 
>declare keyword is usually used in type definitions to describe existing classes or variables that are defined externally in JavaScript code.

declare å…³é”®å­—é€šå¸¸ç”¨äºå£°æ˜ç±»å‹å»æè¿°å·²ç»å­˜åœ¨çš„Javascriptçš„ç±»æˆ–è€…å˜é‡

>There's no difference between declare interface and interface because:
there's no code generation for interfaces and they exist only in Typescript code so you can not declare interface that's defined in JavaScript code;
interface in Typescript by its nature is declaration only, it has no method bodies, properties values, etc. so both declare interface and interface are syntactically equal.[åŸæ–‡](<https://stackoverflow.com/questions/38683155/difference-between-interface-and-declare-interface/38683294>)

~~æ€»çš„æ¥è¯´declare interface å’Œ interfaceçš„å£°æ˜ä»è¯­æ³•ä¸Šæ¥è¯´æ˜¯ç›¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯æ²¡åŒºåˆ«(å› ä¸ºJavascriptä¸­æ˜¯æ²¡æœ‰interfaceå…³é”®å­—çš„æ‰€ä»¥ä¸ç®¡æœ‰æ²¡æœ‰declareæœ€ç»ˆéƒ½æ˜¯è¦ç¼–è¯‘æˆjsä»£ç ï¼Œè€Œä¸”interfaceåœ¨æœ€ç»ˆçš„ç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤)ã€‚ä½†æ˜¯declareå…³é”®å­—æœ€å¥½åªç”¨äº.d.tsç±»å‹å£°æ˜æ–‡ä»¶ä¸­(å› ä¸ºæ–‡æ¡£æ˜¯è¿™ä¹ˆå†™çš„å“¦ğŸ˜€)~~

declareå…³é”®å­—åªç”¨äº.d.tsåç¼€çš„ç±»å‹å£°æ˜æ–‡ä»¶é‡Œ,ä½¿ç”¨declareå…³é”®å­—åªèƒ½ç”¨äºå£°æ˜ä¸€ä¸ªå·²ç»å­˜åœ¨åœ¨jsä»£ç ä¸­çš„æ–¹æ³•æˆ–å¯¹è±¡çš„ç±»å‹,ä¾‹å¦‚æšä¸¾ç±»è¿™æ ·çš„ä¼šäº§ç”Ÿå€¼çš„ç±»å‹,ä½¿ç”¨declareæ˜¯ä¼šè¿”å›undefinedçš„.

**ç±»å‹å£°æ˜æ–‡ä»¶`.d.ts`çš„æ–‡ä»¶åå¿…é¡»è¦å’Œå£°æ˜å¯¹è±¡æ¥æºçš„æ–‡ä»¶åä¸€è‡´!!!**

## ä»€ä¹ˆæ˜¯å£°æ˜è¯­å¥

å‡å¦‚æˆ‘ä»¬æƒ³ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ jQueryï¼Œä¸€ç§å¸¸è§çš„æ–¹å¼æ˜¯åœ¨ html ä¸­é€šè¿‡ `<script>`æ ‡ç­¾å¼•å…¥ jQueryï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡$æˆ–jQueryäº†

æˆ‘ä»¬é€šå¸¸è¿™æ ·è·å–ä¸€ä¸ª id æ˜¯ foo çš„å…ƒç´ ï¼š

`$('#foo'); // or jQuery('#foo');`

ä½†æ˜¯åœ¨ ts ä¸­ï¼Œç¼–è¯‘å™¨å¹¶ä¸çŸ¥é“$æˆ–jQueryæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼š

`jQuery('#foo'); // ERROR: Cannot find name 'jQuery'.`

è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ declare var | const æ¥å®šä¹‰å®ƒçš„ç±»å‹ï¼š

`declare const jQuery: (selector: string) => any;jQuery('#foo');`

ä¸Šä¾‹ä¸­ï¼Œdeclare var å¹¶æ²¡æœ‰çœŸçš„å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œåªæ˜¯å®šä¹‰äº†å…¨å±€å˜é‡ jQuery çš„ç±»å‹ï¼Œä»…ä»…ä¼šç”¨äºç¼–è¯‘æ—¶çš„æ£€æŸ¥ï¼Œåœ¨ç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤ã€‚

å®ƒç¼–è¯‘ç»“æœæ˜¯:`jQuery('#foo');`
